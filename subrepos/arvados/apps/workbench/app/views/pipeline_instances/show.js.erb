<%# Copyright (C) The Arvados Authors. All rights reserved.

SPDX-License-Identifier: AGPL-3.0 %>

<% self.formats = [:html] %>
var new_content = "<%= escape_javascript(render template: 'pipeline_instances/show') %>";
var selected_tab_hrefs = [];
if ($('div#page-wrapper').html() != new_content) {
    $('.nav-tabs li.active a').each(function() {
        selected_tab_hrefs.push($(this).attr('href'));
    });

    $('div#page-wrapper').html(new_content);

    // Show the same tabs that were active before we rewrote page-wrapper
    $.each(selected_tab_hrefs, function(i, href) {
        $('.nav-tabs li a[href="' + href + '"]').tab('show');
    });
}
